\documentclass{article}

\usepackage{notes}

\title{GRT Seminar Sp24 Notes}

\begin{document}

\maketitle

\begin{abstract}
	This semester, we will discuss \emph{Sheaves of categories and the notion of 1-affineness} by Dennis Gaitsgory, \emph{Tannaka duality and 1-affineness} by Germ\'an Stefanich, and related papers.
	The material this semester is logically independent of that from last semester.
\end{abstract}

\tableofcontents

\section{1/25 (David Nadler) -- Introduction}

\subsection{Logistics and announcements}

There will be a more basic discussion in the hour after the usual seminar time (starting with Borel-Weil-Bott).
The Lie Groups course this semester will also be discussing GRT -- we will not attempt to compete with this.
There will be no seminar next week, but we are seeking volunteers to talk in the following weeks.

\subsection{Overview}

The papers we will study show (in various instantiations) that for ``reasonable'' algebraic varieties or stacks $X$, there is an equivalence between the 2-category of ``quasicoherent sheaves of categories\footnote{This being the GRT seminar, ``category'' means $\infty$-category or DG-category.} on $X$'' (i.e.\ quasicoherent modules over the sheaf of categories $\QC_X$) and module categories for the tensor category $\QC(X)$.
This equivalence is given by ``taking global sections'' / ``evaluating on $X$.''
In effect, we are saying that in ``reasonable'' cases, working locally and working globally are equivalent, so long as we are asking questions about the whole category $\QC(X)$.

Of course, the analogous statement rarely holds for the category of quasicoherent sheaves of $\Oc_X$-modules and the category of $\Oc(X)$-modules.
Said analogue would force $X$ to be (0-)affine (at least for $X$ quasiseparated).
There are many more 1-affine objects than 0-affine objects.
The 1-affineness statement is interesting even for simple varieties like $\PP^n$.

Note that there are other important distinctions between plain quasicoherent sheaves and quasicoherent sheaves of categories.
For example, the former are ``stable'' (admitting cones, shifts, etc.) while the latter are not.

We will (most likely) work over $k = \CC$ throughout.
When we mention $\Oc$-modules, we will usually implicitly mean ``quasicoherent.''

\subsection{Key Examples}

There are many important (and perhaps surprising) classes of 1-affine varieties:

\begin{enumerate}
	\item Projective varieties $X \subset \PP^n$.
	\item Stacky quotients $[Y / G]$ for $Y$ a reasonable (e.g.\ projective) variety and $G$ an affine algebraic group. (We need affineness in the denominator -- non-affine $G$ lead to pathologies.)
	\item Many more...
\end{enumerate}

Let's consider some concrete examples.

\begin{ex}
	Let $X = \Spec k$ be a point.
	Then $\Oc(X) = k$, so $\Oc(X)\dMod \simeq \Vect_k$.
	Similarly (since the only nonempty open of $X$ is all of $X$), we get an equivalence $\Oc_X\dMod \simeq \Vect_k$ via $\Mc \mapsto \Mc(X)$.
	Thus $X$ is 0-affine.

	For 1-affineness, note that $\QC(X) \simeq \Vect_k$.
	Thus $\QC(X)\dMod$ is the category of $k$-linear categories tensored over $\Vect$ (i.e.\ for $V \in \Vect$ and $c \in \Cc$, there is a natural object $V \otimes c \in \Cc$).
	In particular, if $Z \to \Spec k$ is a variety, then we get an action $\QC(X) \curvearrowright \QC(Z)$.
	We can understand this concretely for categories with quiver presentations (e.g.\ $\QC(\PP^1)$ viewed as the category of representations of the Kronecker quiver).
	Because $\QC_X$ is determined by its value on the nonempty open, we can identify $\QC_X\dMod \simeq \QC(X)\dMod$ as before.
\end{ex}

\begin{ex}
	Let $X = \PP^1$.
	Then $\Oc(\PP^1) = k$, so $\Oc(\PP^1)\dMod \simeq \Vect_k$.
	But there are many more interesting $\Oc_{\PP^1}$-modules, e.g.\ $\Oc_{\PP^1}(1)$.
	This comes from the fact that $\Oc_{\PP^1}$ has much more data than just its global sections.

	One categorical level up, we note that $\QC(\PP^1)$-modules are categories in which we can ``tensor with $\Oc(n)$'' (while satisfying various compatibility conditions).
	Its counterpart, $\QC_{\PP^1}\dMod$, consists of sheaves which assign, to each open $U \subset \PP^1$, a $\QC(U)$-module $\Mc(U)$ (in a ``sheafy'' manner).
	The theorem tells us that such an $\Mc$ is determined by $\Mc(\PP^1)$ with its $\QC(\PP^1)$-module structure.
\end{ex}

\section{2/8 (Peter Haine) -- Monoidal Categories}

A monoidal category is a monoid (or associative algebra) in categories.
What does this mean?

\subsection{Monoids}

\begin{dfn}[1-categorical monoids]
	Let $\Csf$ be a category with finite products (including a terminal object $*$).
	A \emph{monoid} in $\Csf$ is an object $A \in \Csf$ equipped with maps $m: A \times A \to A$ (multiplication) and $u: * \to A$ (unit) satisfying associativity and unitality, i.e.\ certain expected diagrams commute.
\end{dfn}

\begin{ex}
	Let $A$ be a commutative ring and $\Csf = R\dMod$ (more generally this works for $X$ a scheme and $\Csf = \QC(X)$).
	Then
	\[
		\otimes_A : R\dMod \times R\dMod \to R\dMod
	\]
	should give a monoidal structure on $R\dMod$.
	However, this is a little bit looser than the above definition: associativity holds only up to coherent isomorphism.
	That is, $(L \otimes_R M) \otimes_R N$ and $L \otimes_R (M \otimes_R N)$ are not \emph{equal}, but only \emph{naturally isomorphic} (with the isomorphisms satisfying certain compatibilities).
\end{ex}

So to define a monoidal \emph{category}, we need to provide compatible natural isomorphisms.
The compatibility conditions can be spelled out using pentagon axioms etc.
It's perfectly doable, but a bit non-obvious / non-homotopical.
We'll give a better definition later.

\subsection{Modules}

We also want to discuss monoid actions.

\begin{dfn}[1-categorical modules]
	Let $\Csf$ be a category with finite products, and let $(A, m, u)$ be a monoid in $\Csf$.
	An \emph{$A$-module}, or \emph{object with $A$-action}, is an object $M \in \Csf$ and a map $a: A \times M \to M$ which is associative and unital.
	These conditions can be described using commutative diagrams as before.
\end{dfn}

\begin{ex}
	Let $f: X \to Y$ be a morphism of schemes.
	Then there should be an action of $\QC(Y)$ on $\QC(X)$ given by $(\Fc, \Gc) \mapsto f^* \Fc \otimes_{\Oc_X} \Gc$.
	Associativity means
	\[
		f^*(\Fc \otimes \Fc') \otimes \Gc \cong f^* \Fc \otimes (f^* \Fc' \otimes \Gc)
	\]
	and unitality means
	\[
		f^* \Oc_Y \otimes \Gc \cong \Gc.
	\]
	Again, these conditions only hold up to coherent isomorphism, which we can characterize in terms of certain commutative diagrams.
\end{ex}

The above shows the following important principle: \emph{categories of quasicoherent sheaves often have actions that don't come from actions on the underlying schemes}.
There are, of course, a few actions that do come from actions on the underlying schemes:

\begin{ex}
	Let $G$ be a group scheme, and $a: G \times X \to X$ an action.
	This induces an action of $\QC(G)$ on $\QC(X)$ via $(\Fc, \Fc') \mapsto a_*(\pi_1^* \Fc \otimes_{\Oc_{G \times X}} \pi_2^* \Fc'))$.
	The unit object here is the skyscraper sheaf at the identity of $G$.
	As above, everything holds up to coherent isomorphism.
\end{ex}

\subsection{Better definitions}

How can we give a more intuitive definition of monoids?

Suppose we have a monoid object $(A, m, u)$ in a 1-category.
We can encapsulate this data via the truncation of the bar resolution.
This is a simplicial set (which is easy to write on the board but hard to TeX up, at least at this moment).
Let's remind ourselves how this works.

\begin{dfn}
	The \emph{simplex category} $\Delta$ is the category of nonempty linearly ordered finite sets.
	We write $[n] = \{ 0 < \dots < n \}$ for standard representatives of the isomorphism classes of $\Delta$.
	A \emph{simplicial object} in a category $\Csf$ is a functor $X: \Delta\op \to \Csf$.
	We call $X_n = X([n])$ the object of \emph{$n$-simplices} of $X$.
\end{dfn}

\begin{dfn}
	For a category $\Csf$, we define the \emph{nerve} $N(\Csf) \in \sSet := \Fun(\Delta\op, \Set)$ by setting $N(\Csf)_n = \Fun([n], \Csf)$, the collection of sequences of $n$ composable arrows in $\Csf$.
	(Here we are viewing $[n]$ as a poset category.)
\end{dfn}

Note in particular that:
\begin{itemize}
	\item $N(\Csf)_0$ is the set of objects of $\Csf$.
	\item $N(\Csf)_1$ is the set of \emph{all} morphisms in $\Csf$.
\end{itemize}

\begin{thm}[Grothendieck]
	The nerve functor $N: \Cat \to \sSet$ is fully faithful with essential image consisting of those simplicial sets $X_\bullet$ satisfying the \emph{Segal condition}:
	For all $n \geq 1$ and $i \in [n]$, the square
	\[
		\begin{tikzcd}
			X([n]) \rar \dar & X(\{i < \dots < n \}) \dar \\
			X(\{ 0 < \dots < i \}) \rar & X(\{ i \})
		\end{tikzcd}
	\]
	is a pullback.
	Equivalently, for all $n \geq 1$, the map $X([n]) \to X(\{0 < 1\}) \times_{X(\{1\})} X(\{1 < 2\}) \times_{X(\{2\})} \dots \times_{X(\{n-1\})} X(\{n-1,n\})$ is an equivalence.\footnote{
		Sometimes people write the codomain as $X_1 \times_{X_0} X_1 \times_{X_0} \dots \times_{X_0} X_1$, but this is ambiguous notation!
		In particular, if we required $X([2]) \xrightarrow{\sim} X(\{0 < 2\}) \times_{X(\{0\})} X(\{0 < 1\})$, this would force the category to be a groupoid.}
\end{thm}

One can reconstruct the composition in $\Csf$ from $N(\Csf)$ by using the inverse of the equivalence in the Segal condition.

Consider the functor $\Monoid \to \Cat$ given by sending a monoid $A$ to the category with one object $*$ and $\Hom(*, *) = A$.

\begin{cor}[Milnor]
	The composite functor $\Barop: \Monoid \to \Cat \xrightarrow{N} \sSet$ is fully faithful with essential image consisting of simplicial sets $X$ satisfying the Segal condition together with the requirement $X_0 = \{ * \}$.
\end{cor}

This gives a higher categorical definition of monoid objects.

\begin{dfn}
	A \emph{monoid} in a higher category $\Csf$ is a simplicial object $X$ in $\Csf$ satisfying the Segal condition and such that $X_0$ is terminal.
\end{dfn}

\section{2/15 (Peter Haine) -- Continued}

\subsection{Monoidal $\infty$-categories}

Recall our two issues from last time:
\begin{itemize}
	\item We wanted to nicely package the data of a monoid.
		This was accomplished using simplicial objects.
	\item We wanted to handle higher coherences of isomorphisms.
		We solve this using $\infty$-categories / dg-categories / other homotopical settings.
		When we use simplicial objects as above, this gives the correct notions (because asking that certain diagrams commute is now requiring \emph{structure} rather than just \emph{properties}). 
\end{itemize}

\begin{dfn}
	Let $\Csf$ be an $\infty$-category with finite products.
	A \emph{monoid} (or \emph{algebra}) in $\Csf$ is a simplicial object $A_\bullet: \Delta\op \to \Csf$ satisfying:
	\begin{enumerate}
		\item $A_0 \simeq *$
		\item (Segal condition) The squares
			\[
				\begin{tikzcd}
					A([n]) \rar \dar & A(\{i < \dots < n\}) \dar \\
					A(\{0 < \dots < i\}) \rar & A(\{i\}).
				\end{tikzcd}
			\]
			are Cartesian.
	\end{enumerate}
	The \emph{underlying object} of $A_\bullet$ is $A_1$.
\end{dfn}

\begin{dfn}
	A \emph{monoidal $\infty$-category} is a monoid in $\Cat_\infty$, the $\infty$-category of $\infty$-categories.
\end{dfn}

Here are some key examples.

\begin{ex}
	Let $X$ be a scheme, and let $\QC(X)$ be the $\infty$-category / derived category of quasicoherent sheaves.
	This is a monoidal $\infty$-category with $\otimes_{\Oc_X}$ and $\onebb = \Oc_X$.
	Setting this up according to the above formalism is nontrivial and relies on some unintuitive straightening / unstraightening arguments.
\end{ex}

\begin{ex}
	Let $G$ be a group scheme.
	Then $\QC(G)$ acquires an additional monoidal structure $*_G$ (convolution) from the group structure on $G$.
	Informally, this is given by $\Fc *_G \Gc = m_*(\pi_1^* \Fc \otimes \pi_2^* \Gc)$, where $\pi_i: G \times G \to G$ is projection onto the $i$th factor.
\end{ex}

Note that the former example should be ``commutative'' -- this would be additional structure (rather than a property).
The role of $\Delta$ above is to encode the order of multiplication.
If we wanted to describe commutative monoid objects, we would use the category of finite pointed sets (with no orders in sight) rather than $\Delta$.

\begin{rmk}
	Let $F: \Csf \to \Dsf$ be a functor between categories with finite products.
	\begin{itemize}
		\item If $F$ preserves finite limits, then $F$ induces a functor $\Alg(\Csf) \to \Alg(\Dsf)$.
		\item More generally, if $F$ has a ``lax structure'' $F(X) \times F(Y) \to F(X \times Y)$, then $F$ still induces a functor $F: \Alg(\Csf) \to \Alg(\Dsf)$, where the multiplication on $F(A)$ is defined via
			\[
				F(A) \times F(A) \to F(A \times A) \xrightarrow{F(m)} F(A).
			\]
			This can be used to construct the convolution structure on $\QC(G)$.
			\end{itemize}
\end{rmk}

The following gives a practical application of this viewpoint:

\begin{ex}
	The work of Nadler-Yun on automorphic gluing gives a presentation of the affine Hecke category $\Hc$ in terms of bubbling.
	That is, they construct a monoidal category $\Hc^{bub}$ using bubbling and prove an equivalence of monoidal categories $\Hc \simeq \Hc^{bub}$.
	The simplicial objects here are constructed using geometry.
\end{ex}

\subsection{Digression on loop spaces}

In topology, the based loop space $\Omega_x X$ can be defined as a pullback
\[
	\Omega_x X  = PX \times_X \{ x \}
\]
where $PX$ is the space of paths $\gamma: [0, 1] \to X$ with $\gamma(0) = x$, and $PX \to X$ is evaluation at $1$.
Note that $PX$ is contractible and $PX \to X$ is a fibration, so $\Omega_x X$ can be viewed as the homotopy pullback $\pt \times_X \pt$.

\begin{dfn}
	Let $\Csf$ be an $\infty$-category with finite limits, and let $\pt \to X$ be a pointed object.
	The \emph{loop object} $\Omega_x X$ is the pullback $\Omega_x X = \pt \times_X \pt$.
\end{dfn}

The loop object $\Omega_x X$ has a natural monoid structure coming from the \v{C}ech nerve construction (applied to $\pt \to X$):

\begin{dfn}
	If $W \to X$ is a morphism, the \emph{\v{C}ech nerve} is the simplicial object $C_\bullet$ with $C_0 = W$, $C_1 = W \times_X W$, $C_2 = W \times_X W \times_X W$, etc.\ where all morphisms come from projections / diagonals.
\end{dfn}

Similarly, this gives a monoid structure on the \emph{free loop space} $\Lc X = X \times_{X \times X} X$.
(In the context of algebraic stacks, this recovers the \emph{inertia stack}.)

\subsection{Actions}

\begin{dfn}
	Let $\Csf$ be an $\infty$-category with finite products and $A: \Delta\op \to \Csf$ a monoid.
	A \emph{(left) action} of $A$ on an object $M$ (equivalently, a \emph{left $A$-module}) is a simplicial object $M_\bullet: \Delta\op \to \Csf$ together with a map of simplicial objects $p: M_\bullet \to A$ such that
	\begin{enumerate}
		\item $M_0 \simeq M$
		\item For all $n$, the maps $p([n]): M([n]) \to A([n])$ and $M([n]) \to M(\{n\})$ exhibit $M([n])$ as the product $A([n]) \times M(\{n\})$.\footnote{If we used $M(\{0\})$ throughout in place of $M(\{n\})$, we would obtain a right action.}
	\end{enumerate}
	The category of \emph{left $A$-modules} $\LMod_A$ is the full sub-$\infty$-category of $\Fun(\Delta\op, \Csf)_{/A}$ spanned by such objects.
\end{dfn}

Informally, $M_\bullet$ has $M_0 \simeq M$, $M_1 \simeq A_1 \times M_0$ (with $M_1 \to M_0$ encoding the na\"ive action), and more generally $M_n \simeq A_1^{\times n} \times M_0$, etc.\ with higher morphisms encoding coherences.

The quotient $M / A$ is the colimit of the diagram $M_\bullet: \Delta\op \to \Csf$.
For example, we can obtain the stack $BG$ as $\pt / G$.

\begin{ex}
	Let $f: X \to Y$ be a morphism of schemes.
	Then $(\QC(Y), \otimes_{\Oc_Y})$ acts on $\QC(X)$ via $(\Fc, \Gc) \mapsto f^* \Fc \otimes \Gc$.
\end{ex}

\begin{ex}
	If $G$ is a group scheme and $G \curvearrowright X$ is an action, then $(\QC(G), *_G)$ acts on $\QC(X)$.
\end{ex}

\end{document}
